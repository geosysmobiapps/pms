<!DOCTYPE html>
<html lang="en" dir="ltr" data-nav-layout="vertical" data-theme-mode="light" data-header-styles="light" data-menu-styles="light" data-toggled="close">
    {% load static %}

<head>
    <!-- Meta Data -->
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PMS</title>
    <meta name="Description" content="Construction Project Management System. Powered by BuildMaster Ltd.">
    <meta name="Author" content="BuildMaster Ltd.">
    <meta name="keywords" content="project management, construction, dashboard, bootstrap admin dashboard">
    
    <!-- Favicon -->
    <link rel="icon" href="{% static 'assets/images/brand-logos/LOGO.png' %}" type="image/x-icon">
    
    <!-- Bootstrap Css -->
    <link id="style" href="{% static 'assets/libs/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" >

    <!-- Style Css -->
    <link href="{% static 'assets/css/styles.css' %}" rel="stylesheet" >

    <!-- Icons Css -->
    <link href="{% static 'assets/css/icons.css' %}" rel="stylesheet" >

    <!-- Node Waves Css -->
    <link href="{% static 'assets/libs/node-waves/waves.min.css' %}" rel="stylesheet" > 

    <!-- Simplebar Css -->
    <link href="{% static 'assets/libs/simplebar/simplebar.min.css' %}" rel="stylesheet" >
    
    <!-- Custom Staff Styles -->
    <link href="{% static 'styles/staff_style.css' %}" rel="stylesheet">
    
    <!-- Remix Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
    <div class="page">
      <!-- Fixed Top Header -->
<header class="app-header" id="header">
    <div class="main-header-container container-fluid">
        <div class="d-flex justify-content-between align-items-center">
            <!-- Logo -->
            <div class="header-content-left">
                <a href="{% url 'staff:dashboard' %}">
                    <img src="{% static 'assets/images/brand-logos/LOGO.png' %}" alt="logo" class="brand-logo">
                </a>
            </div>

            <!-- User Menu -->
            <div class="header-content-right">
                <img src="{% static 'images/user.jpg' %}" alt="User" class="user-avatar">

                <a href="#" class="notification-icon">
                    <i class="ri-notification-3-line"></i>
                </a>
               
                <a href="#" class="logout-icon">
                    <i class="ri-logout-box-r-line"></i>
                </a>
            </div>
        </div>
    </div>
</header>

<!-- U-Shaped Gradient Background -->
<div class="header-shape"></div>


        <div class="main-content app-content">
            {% block content %}
            {% endblock %}
        </div>

        <!-- Modern Footer -->
        <div class="app-footer">
            <div class="footer-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" 
                 onclick="location.href='{% url 'staff:dashboard' %}'">
                <i class="ri-home-4-fill"></i>
                <p>Home</p>
            </div>

            <div class="footer-item {% if request.resolver_match.url_name == 'activities' %}active{% endif %}" 
                 onclick="location.href='{% url 'staff:activities' %}'">
                <i class="ri-calendar-event-fill"></i>
                <p>Activities</p>
            </div>

            <div class="footer-item {% if request.resolver_match.url_name == 'projects' %}active{% endif %}" 
                 onclick="location.href='{% url 'staff:projects' %}'">
                <i class="ri-building-fill"></i>
                <p>Projects</p>
            </div>

            <div class="footer-item {% if request.resolver_match.url_name == 'profile' %}active{% endif %}" 
                 onclick="location.href='{% url 'staff:profile' %}'">
                <i class="ri-user-fill"></i>
                <p>Profile</p>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="{% static 'assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

    <!-- Header Scroll Effect -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.getElementById('header');
            let lastScrollTop = 0;
            const headerHeight = header.offsetHeight;
            
            window.addEventListener('scroll', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > lastScrollTop && scrollTop > headerHeight) {
                    // Scroll down - hide header
                    header.style.transform = 'translateY(-100%)';
                } else {
                    // Scroll up - show header
                    header.style.transform = 'translateY(0)';
                }
                
                lastScrollTop = scrollTop;
            });
            
            // Footer item click handling
            document.querySelectorAll('.footer-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.footer-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>